# General sources
set(SOURCES_FILES CAMERA.CPP DATAMAT.CPP DISTANCE.CPP LIROT3D.CPP LPROJ.CPP LROT3D.CPP MOVE.CPP ROT3D.CPP IMATSTD.CPP)

set(SOURCES_FILES_ASM COPYMAT.ASM COPYMATF.ASM COPYMATI.ASM GETANG2D.ASM GETANG3D.ASM IMATSTD.ASM
        IMATSTDF.ASM IMATSTDI.ASM IMATTRA.ASM IMATTRAF.ASM IMATTRAI.ASM IROT3D.ASM IROT3DI.ASM LIGHT.ASM LIROT3D.ASM
        LIROT3DF.ASM LIROT3DI.ASM LITLIST.ASM LITLISTF.ASM LITLISTI.ASM LPROJ.ASM LPROJ3D.ASM LPROJ3DF.ASM LPROJ3DI.ASM
        LPROJISO.ASM LROT2D.ASM LROT2DF.ASM LROT2DI.ASM LROT3D.ASM LROT3DF.ASM LROT3DI.ASM MULMAT.ASM MULMATF.ASM
        MULMATI.ASM PRLI.ASM PRLI3D.ASM PRLI3DF.ASM PRLI3DI.ASM PRLIISO.ASM PROJ.ASM REGLE3.ASM ROT2D.ASM ROT2DI.ASM
        ROT3D.ASM ROT3DI.ASM ROTMAT.ASM ROTMATI.ASM ROTMATU.ASM ROTRALI.ASM ROTRALIF.ASM ROTVECT.ASM SINTAB.ASM
        SINTABF.ASM SQRROOT.ASM TANTAB.ASM)

# TODO: Delete this list
set(SOURCES_FILES_ASM_EXCLUDED COPYMATM.ASM IMATSTDM.ASM IMATTRAM.ASM IROT3DM.ASM LIROT3DM.ASM LITLISTM.ASM LROT2DM.ASM
        LROT3DM.ASM MULMATM.ASM ROT2DM.ASM ROT3DM.ASM ROTRALIM.ASM)

add_library(3D ${SOURCES_FILES} ${SOURCES_FILES_ASM})

# Configure all ASM files to be recognized as such (workaround for bug where .ASM uppercase extension is not recognized)
foreach (FILE_ASM IN LISTS SOURCES_FILES_ASM)
    set_source_files_properties(${FILE_ASM} PROPERTIES LANGUAGE ASM_MASM)
endforeach ()
